(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-drag-index"],{"056f":function(t,a,i){"use strict";i.r(a);var n=i("9b10"),s=i("b864");for(var e in s)"default"!==e&&function(t){i.d(a,t,(function(){return s[t]}))}(e);i("6d58");var o,l=i("f0c5"),r=Object(l["a"])(s["default"],n["b"],n["c"],!1,null,"2d44f156",null,!1,n["a"],o);a["default"]=r.exports},"30de":function(t,a,i){"use strict";i.d(a,"b",(function(){return s})),i.d(a,"c",(function(){return e})),i.d(a,"a",(function(){return n}));var n={tnButton:i("0199").default,tnToast:i("28cb").default,tnModal:i("4ca6").default},s=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("v-uni-view",{staticClass:"template-outset"},[i("v-uni-view",{staticClass:"tn-satr"},[i("v-uni-view",{staticClass:"sky"}),i("v-uni-view",{staticClass:"stars"},[i("v-uni-view",{staticClass:"falling-stars"},[i("v-uni-view",{staticClass:"star-fall"}),i("v-uni-view",{staticClass:"star-fall"}),i("v-uni-view",{staticClass:"star-fall"}),i("v-uni-view",{staticClass:"star-fall"})],1),i("v-uni-view",{staticClass:"small-stars"},[i("v-uni-view",{staticClass:"star"}),i("v-uni-view",{staticClass:"star"}),i("v-uni-view",{staticClass:"star"}),i("v-uni-view",{staticClass:"star"}),i("v-uni-view",{staticClass:"star"}),i("v-uni-view",{staticClass:"star"}),i("v-uni-view",{staticClass:"star"}),i("v-uni-view",{staticClass:"star"}),i("v-uni-view",{staticClass:"star"}),i("v-uni-view",{staticClass:"star"}),i("v-uni-view",{staticClass:"star"}),i("v-uni-view",{staticClass:"star"})],1),i("v-uni-view",{staticClass:"medium-stars"},[i("v-uni-view",{staticClass:"star"}),i("v-uni-view",{staticClass:"star"}),i("v-uni-view",{staticClass:"star"}),i("v-uni-view",{staticClass:"star"}),i("v-uni-view",{staticClass:"star"}),i("v-uni-view",{staticClass:"star"}),i("v-uni-view",{staticClass:"star"}),i("v-uni-view",{staticClass:"star"}),i("v-uni-view",{staticClass:"star"}),i("v-uni-view",{staticClass:"star"}),i("v-uni-view",{staticClass:"star"}),i("v-uni-view",{staticClass:"star"})],1)],1)],1),i("v-uni-view",{staticClass:"tn-flex tn-flex-direction-column tn-padding-xl container"},[i("v-uni-view",{staticClass:"waiting"},[t._v(t._s(t.notification))]),i("v-uni-view",{staticClass:"waiting"},[t._v(t._s(t.welcome))]),t.appListData.length>0?i("v-uni-view",{staticClass:"around-list"},[i("AppChange",{attrs:{"list-data":t.appListData},on:{listChange:function(a){arguments[0]=a=t.$handleEvent(a),t.listChange.apply(void 0,arguments)}}})],1):t._e(),0===t.appListData.length?i("v-uni-view",{staticClass:"waiting"},[t._v("正在等待玩家进入房间…")]):t._e(),i("v-uni-view",{staticClass:"tn-flex tn-flex-row-right button-area"},["user"===t.role?i("v-uni-view",{},[i("tn-button",{attrs:{shadow:!0,width:"100%",height:"100rpx","background-color":"tn-main-gradient-indigo",margin:"10rpx 0"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.quitGame()}}},[t._v("退出房间")])],1):t._e(),"admin"===t.role?i("v-uni-view",{},[i("v-uni-view",[i("tn-button",{attrs:{shadow:!0,size:"lg",width:"100%",height:"100rpx","background-color":"tn-main-gradient-indigo",margin:"10rpx 0"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.showModel(0)}}},[t._v("开始游戏")])],1),i("v-uni-view",[i("tn-button",{attrs:{shadow:!0,size:"lg",width:"100%",height:"100rpx","background-color":"tn-main-gradient-indigo",margin:"10rpx 0"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.showModel(1)}}},[t._v("关闭房间")])],1)],1):t._e()],1)],1),i("v-uni-view",[i("tn-toast",{ref:"toast",on:{closed:function(a){arguments[0]=a=t.$handleEvent(a),t.closeToast()}}})],1),i("tn-modal",{attrs:{"background-color":"#E4E9EC",width:"84%",padding:"30rpx 26rpx",radius:12,"font-color":"#BA7027","font-size":35,title:"提示",content:t.content,button:t.button,"show-close-btn":!0,"mask-closeable":!0,zoom:!0,custom:!1},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.clickBtn.apply(void 0,arguments)}},model:{value:t.is_show_model,callback:function(a){t.is_show_model=a},expression:"is_show_model"}})],1)},e=[]},"38ad":function(t,a,i){"use strict";i.r(a);var n=i("9964"),s=i.n(n);for(var e in n)"default"!==e&&function(t){i.d(a,t,(function(){return n[t]}))}(e);a["default"]=s.a},"6d58":function(t,a,i){"use strict";var n=i("edaf"),s=i.n(n);s.a},"79fe":function(t,a,i){"use strict";var n=i("9b3b"),s=i.n(n);s.a},"926d":function(t,a,i){var n=i("24fb");a=n(!1),a.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */\r\n/**\r\n * 下方引入的为Tuniao UI的集成样式文件，为scss预处理器，其中包含了一些"tn-"开头的自定义变量\r\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\r\n * Tuniao UI自定义的css类名和scss变量，均以"tn-"开头，不会造成冲突，请放心使用 \r\n */\r\n/* 流星*/.tn-satr[data-v-b9449d80]{position:fixed;width:100%;height:600px;overflow:hidden;flex-shrink:0}.stars[data-v-b9449d80]{position:absolute;z-index:1;width:100%;height:400px}.star[data-v-b9449d80]{border-radius:50%;background:#fff;box-shadow:0 0 6px 0 hsla(0,0%,100%,.8)}.small-stars .star[data-v-b9449d80]{position:absolute;width:3px;height:3px}.small-stars .star[data-v-b9449d80]:nth-child(2n){opacity:0;-webkit-animation:star-blink-data-v-b9449d80 1.2s linear infinite alternate;animation:star-blink-data-v-b9449d80 1.2s linear infinite alternate}.small-stars .star[data-v-b9449d80]:nth-child(1){left:40px;bottom:50px}.small-stars .star[data-v-b9449d80]:nth-child(2){left:200px;bottom:40px}.small-stars .star[data-v-b9449d80]:nth-child(3){left:60px;bottom:120px}.small-stars .star[data-v-b9449d80]:nth-child(4){left:140px;bottom:250px}.small-stars .star[data-v-b9449d80]:nth-child(5){left:400px;bottom:300px}.small-stars .star[data-v-b9449d80]:nth-child(6){left:170px;bottom:80px}.small-stars .star[data-v-b9449d80]:nth-child(7){left:200px;bottom:360px;-webkit-animation-delay:.2s;animation-delay:.2s}.small-stars .star[data-v-b9449d80]:nth-child(8){left:250px;bottom:320px}.small-stars .star[data-v-b9449d80]:nth-child(9){left:300px;bottom:340px}.small-stars .star[data-v-b9449d80]:nth-child(10){left:130px;bottom:320px;-webkit-animation-delay:.5s;animation-delay:.5s}.small-stars .star[data-v-b9449d80]:nth-child(11){left:230px;bottom:330px;-webkit-animation-delay:7s;animation-delay:7s}.small-stars .star[data-v-b9449d80]:nth-child(12){left:300px;bottom:360px;-webkit-animation-delay:.3s;animation-delay:.3s}@-webkit-keyframes star-blink-data-v-b9449d80{50%{width:3px;height:3px;opacity:1}}.medium-stars .star[data-v-b9449d80]{position:absolute;width:3px;height:3px;opacity:0;-webkit-animation:star-blink-data-v-b9449d80 1.2s ease-in infinite alternate;animation:star-blink-data-v-b9449d80 1.2s ease-in infinite alternate}.medium-stars .star[data-v-b9449d80]:nth-child(1){left:300px;bottom:50px}.medium-stars .star[data-v-b9449d80]:nth-child(2){left:400px;bottom:40px;-webkit-animation-delay:.4s;animation-delay:.4s}.medium-stars .star[data-v-b9449d80]:nth-child(3){left:330px;bottom:300px;-webkit-animation-delay:.2s;animation-delay:.2s}.medium-stars .star[data-v-b9449d80]:nth-child(4){left:460px;bottom:300px;-webkit-animation-delay:.9s;animation-delay:.9s}.medium-stars .star[data-v-b9449d80]:nth-child(5){left:300px;bottom:150px;-webkit-animation-delay:1.2s;animation-delay:1.2s}.medium-stars .star[data-v-b9449d80]:nth-child(6){left:440px;bottom:120px;-webkit-animation-delay:1s;animation-delay:1s}.medium-stars .star[data-v-b9449d80]:nth-child(7){left:200px;bottom:140px;-webkit-animation-delay:.8s;animation-delay:.8s}.medium-stars .star[data-v-b9449d80]:nth-child(8){left:30px;bottom:480px;-webkit-animation-delay:.3s;animation-delay:.3s}.medium-stars .star[data-v-b9449d80]:nth-child(9){left:460px;bottom:400px;-webkit-animation-delay:1.2s;animation-delay:1.2s}.medium-stars .star[data-v-b9449d80]:nth-child(10){left:150px;bottom:10px;-webkit-animation-delay:1s;animation-delay:1s}.medium-stars .star[data-v-b9449d80]:nth-child(11){left:420px;bottom:450px;-webkit-animation-delay:1.2s;animation-delay:1.2s}.medium-stars .star[data-v-b9449d80]:nth-child(12){left:340px;bottom:180px;-webkit-animation-delay:1.1s;animation-delay:1.1s}@keyframes star-blink-data-v-b9449d80{50%{width:4px;height:4px;opacity:1}}.star-fall[data-v-b9449d80]{position:relative;border-radius:2px;width:80px;height:2px;overflow:hidden;-webkit-transform:rotate(-20deg);transform:rotate(-20deg)}.star-fall[data-v-b9449d80]:after{content:"";position:absolute;width:50px;height:2px;background:-webkit-gradient(linear,right top,left top,from(transparent),to(hsla(0,0%,100%,.4)));background:linear-gradient(270deg,transparent 0,hsla(0,0%,100%,.4));left:100%;-webkit-animation:star-fall-data-v-b9449d80 3.6s linear infinite;animation:star-fall-data-v-b9449d80 3.6s linear infinite}.star-fall[data-v-b9449d80]:nth-child(1){left:80px;bottom:-100px}.star-fall[data-v-b9449d80]:nth-child(1):after{-webkit-animation-delay:2.4s;animation-delay:2.4s}.star-fall[data-v-b9449d80]:nth-child(2){left:200px;bottom:-200px}.star-fall[data-v-b9449d80]:nth-child(2):after{-webkit-animation-delay:2s;animation-delay:2s}.star-fall[data-v-b9449d80]:nth-child(3){left:430px;bottom:-50px}.star-fall[data-v-b9449d80]:nth-child(3):after{-webkit-animation-delay:3.6s;animation-delay:3.6s}.star-fall[data-v-b9449d80]:nth-child(4){left:400px;bottom:100px}.star-fall[data-v-b9449d80]:nth-child(4):after{-webkit-animation-delay:.2s;animation-delay:.2s}@-webkit-keyframes star-fall-data-v-b9449d80{20%{left:-100%}100%{left:-100%}}@keyframes star-fall-data-v-b9449d80{20%{left:-100%}100%{left:-100%}}.container .waiting[data-v-b9449d80]{margin-bottom:%?100?%;font-size:%?40?%;font-weight:700;color:#fff;text-align:center}\r\n/* 波浪*/.template-outset[data-v-b9449d80]{background-image:linear-gradient(0deg,#4c3fae 20%,#6e26ba 80%);width:100vw;height:100vh}',""]),t.exports=a},9964:function(t,a,i){"use strict";var n=i("4ea4");i("4160"),i("159b"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=n(i("056f")),e={components:{AppChange:s.default},data:function(){return{load_role:"",appListData:[],role:getApp().globalData.role,is_show_model:!1,button:[{text:"取消",backgroundColor:"#A4E82F",fontColor:"#FFFFFF"},{text:"确定",backgroundColor:"tn-bg-indigo",fontColor:"#FFFFFF"}],button_order:"",content:"",toast_significance:""}},computed:{notification:function(){return"user"===getApp().globalData.role?"房间号：".concat(getApp().globalData.gameKey):""},welcome:function(){return"admin"===getApp().globalData.role?"您好，管理员！房间号为 ".concat(getApp().globalData.gameKey):"您好，".concat(getApp().globalData.userName,"!")}},onLoad:function(t){getApp().globalData.drag=this,this.load_role=t.role},onShow:function(){this.appListData=getApp().globalData.appListData,""===getApp().globalData.wsHandle&&("admin"===this.load_role?uni.redirectTo({url:"/pages/login-admin/index"}):uni.redirectTo({url:"/pages/index/index"}))},onHide:function(){console.log("隐藏drag组件")},onUnload:function(){console.log("卸载drag组件"),getApp().globalData.drag=null},methods:{listChange:function(t){var a=["banker"];t.forEach((function(t){a.push(t.appName)})),getApp().globalData.send({method:"dragUser",data:{user_list:a,game_key:getApp().globalData.gameKey}})},globalNotice:function(t,a,i,n){this.$refs.toast.show({title:t,content:a,icon:i,image:"",duration:1500}),n&&(this.toast_significance=n)},syncUserList:function(){this.appListData=getApp().globalData.appListData},quitGame:function(){getApp().globalData.send({method:"quitGame",data:{username:getApp().globalData.userName,game_key:getApp().globalData.gameKey}})},showModel:function(t){if(0===t){if(getApp().globalData.appListData.length<1)return this.$refs.toast.show({title:"提醒",content:"人数不足，不能开始游戏",icon:"lock",image:"",duration:2e3});this.content="确定要开始游戏吗？",this.button_order=0}else 1===t&&(this.content="确定要关闭房间吗？",this.button_order=1);this.is_show_model=!0},clickBtn:function(t){this.is_show_model=!1,1===t.index&&(0===this.button_order?getApp().globalData.send({method:"startGame",data:{phone:getApp().globalData.phone,gameKey:getApp().globalData.gameKey}}):1===this.button_order&&getApp().globalData.send({method:"stopGame",data:getApp().globalData.gameKey}))},closeToast:function(){"stopGame"===this.toast_significance?"admin"===getApp().globalData.role?uni.redirectTo({url:"/pages/login-admin/index"}):uni.redirectTo({url:"/pages/index/index"}):"syncInfo"===this.toast_significance&&("admin"===getApp().globalData.role?uni.redirectTo({url:"/pages/manipulate/index?role=admin"}):uni.redirectTo({url:"/pages/game/index"}))}}};a.default=e},"9b10":function(t,a,i){"use strict";var n;i.d(a,"b",(function(){return s})),i.d(a,"c",(function(){return e})),i.d(a,"a",(function(){return n}));var s=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("v-uni-view",{},[i("v-uni-view",{staticClass:"movarea",attrs:{id:"areaBox"}},[i("v-uni-view",{ref:"appList",staticClass:"appList"},t._l(t.listData_c,(function(a,n){return i("v-uni-view",{key:n,staticClass:"app-li text-blue",class:t.touchIndex===n?"select":"",attrs:{id:"appLi"+n},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.AppLi_click(n)}}},[i("v-uni-text",{class:["appIcon",a.appIcon]}),i("v-uni-text",{staticClass:"appName"},[t._v(t._s(a.appName))])],1)})),1)],1)],1)},e=[]},"9b3b":function(t,a,i){var n=i("926d");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var s=i("4f06").default;s("b3e70f82",n,!0,{sourceMap:!1,shadowMode:!1})},a651:function(t,a,i){var n=i("24fb");a=n(!1),a.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */\r\n/**\r\n * 下方引入的为Tuniao UI的集成样式文件，为scss预处理器，其中包含了一些"tn-"开头的自定义变量\r\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\r\n * Tuniao UI自定义的css类名和scss变量，均以"tn-"开头，不会造成冲突，请放心使用 \r\n */.text-blue[data-v-2d44f156]{color:#ffe4e1}.tn-icon-close[data-v-2d44f156]{color:#fff}.tn-icon-close[data-v-2d44f156]:after{content:"踢出"}.movarea[data-v-2d44f156]{width:100%;height:auto}.appList[data-v-2d44f156]{width:100%;display:flex;flex-wrap:wrap;background:rgba(0,0,0,.3);border-radius:%?32?%}.app-li[data-v-2d44f156]{width:33.33%;height:%?160?%;text-align:center;display:flex;flex-direction:column;justify-content:space-around;padding:%?20?%;position:relative;border:1px solid transparent}.app-li .appIcon[data-v-2d44f156]{font-size:%?60?%}.app-li .appName[data-v-2d44f156]{font-size:%?24?%}.app-li .cuIcon-roundadd[data-v-2d44f156]{font-size:%?60?%;color:#ccc}.app-li .cuIcon-roundclosefill[data-v-2d44f156]{position:absolute;top:%?12?%;right:25%;font-size:%?28?%;background-color:#ff1493;border-radius:20% 0 0 20%;opacity:.9;z-index:2}.app-li .cuIcon-roundclosefill.hide[data-v-2d44f156]{display:none}.select[data-v-2d44f156]{border-radius:%?16?%;border:1px dashed silver;color:silver}',""]),t.exports=a},b864:function(t,a,i){"use strict";i.r(a);var n=i("d60c"),s=i.n(n);for(var e in n)"default"!==e&&function(t){i.d(a,t,(function(){return n[t]}))}(e);a["default"]=s.a},d60c:function(t,a,i){"use strict";i("a434"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n={name:"AppChange",props:{listData:{type:Array,default:function(){return[]}}},data:function(){return{listData_c:this.listData,deleteAppID:null,touchIndex:"",touchItem:"",isClickFirst:!1}},computed:{},watch:{listData:function(t){this.listData_c=t}},mounted:function(){},methods:{AppLi_click:function(t){if("admin"===getApp().globalData.role)if(this.isClickFirst){var a=[this.listData[this.touchIndex],this.listData_c[t]];this.listData_c[t]=a[0],this.listData[this.touchIndex]=a[1],t!==this.touchIndex&&this.$emit("listChange",this.listData_c),this.touchIndex="",this.deleteAppID="",this.isClickFirst=!this.isClickFirst}else this.deleteAppID=t,this.touchIndex=t,this.touchItem=this.listData_c[t],this.isClickFirst=!this.isClickFirst},deleteAppItem:function(t){this.listData_c.splice(t,1)}}};a.default=n},e9d5:function(t,a,i){"use strict";i.r(a);var n=i("30de"),s=i("38ad");for(var e in s)"default"!==e&&function(t){i.d(a,t,(function(){return s[t]}))}(e);i("79fe");var o,l=i("f0c5"),r=Object(l["a"])(s["default"],n["b"],n["c"],!1,null,"b9449d80",null,!1,n["a"],o);a["default"]=r.exports},edaf:function(t,a,i){var n=i("a651");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var s=i("4f06").default;s("16419535",n,!0,{sourceMap:!1,shadowMode:!1})}}]);